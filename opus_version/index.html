<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Immersion Cooling TCO Calculator v2.0</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üßä Immersion Cooling TCO Calculator</h1>
            <p>Advanced Total Cost of Ownership Analysis for Data Center Cooling Solutions</p>
        </div>

        <!-- Controls -->
        <div class="controls">
            <div class="control-group">
                <label for="language">Language:</label>
                <select id="language">
                    <option value="en">English</option>
                    <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
                </select>
            </div>
            <div class="control-group">
                <label for="currency">Currency:</label>
                <select id="currency">
                    <option value="USD">USD ($)</option>
                    <option value="EUR">EUR (‚Ç¨)</option>
                    <option value="SAR">SAR (Ô∑º)</option>
                    <option value="AED">AED (ÿØ.ÿ•)</option>
                </select>
            </div>
        </div>

        <!-- Main Grid -->
        <div class="main-grid">
            <!-- Input Panel -->
            <div class="input-panel">
                <div class="input-section">
                    <h3>üå¨Ô∏è Air Cooling Configuration</h3>
                    <div class="input-group">
                        <label for="airRacks">Number of 42U Racks</label>
                        <input type="number" id="airRacks" value="10" min="1" max="1000">
                    </div>
                    <div class="input-group">
                        <label for="airPowerPerRack">Power per Rack (kW)</label>
                        <input type="number" id="airPowerPerRack" value="10" min="1" max="100" step="0.1">
                    </div>
                    <div class="input-group">
                        <label for="airPUE">PUE (Power Usage Effectiveness)</label>
                        <input type="number" id="airPUE" value="1.7" min="1.0" max="3.0" step="0.01">
                    </div>
                </div>

                <div class="input-section">
                    <h3>üíß Immersion Cooling Configuration</h3>
                    <div class="toggle-container">
                        <span>Auto-calculate tanks:</span>
                        <label class="toggle-switch">
                            <input type="checkbox" id="autoCalculateTanks">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="input-group" id="tanksInputGroup">
                        <label for="immersionTanks">Number of Tanks (1U-23U)</label>
                        <input type="number" id="immersionTanks" value="5" min="1" max="500">
                    </div>
                    <div class="input-group">
                        <label for="immersionPowerPerTank">Power per Tank (kW)</label>
                        <input type="number" id="immersionPowerPerTank" value="20" min="5" max="200" step="0.1">
                    </div>
                    <div class="input-group">
                        <label for="immersionPUE">PUE</label>
                        <input type="number" id="immersionPUE" value="1.03" min="1.0" max="2.0" step="0.01">
                    </div>
                </div>

                <div class="input-section">
                    <h3>üí∞ Financial Parameters</h3>
                    <div class="input-group">
                        <label for="loadScenario">Load Scenario</label>
                        <select id="loadScenario">
                            <option value="constant">Constant Load (24/7)</option>
                            <option value="business">Business Hours</option>
                            <option value="ai_training">AI/ML Training</option>
                            <option value="batch">Batch Processing</option>
                            <option value="web_hosting">Web Hosting</option>
                        </select>
                        <small id="scenarioDescription" style="color: var(--gray); display: block; margin-top: 0.5rem;">Steady workload throughout the day</small>
                    </div>
                    <div class="input-group">
                        <label for="analysisYears">Analysis Period (Years)</label>
                        <input type="number" id="analysisYears" value="5" min="1" max="10">
                    </div>
                    <div class="input-group">
                        <label for="electricityPrice">
                            Electricity Price (<span class="currency-symbol">$</span>/kWh)
                        </label>
                        <input type="number" id="electricityPrice" value="0.10" min="0.01" max="1.0" step="0.01">
                    </div>
                    <div class="input-group">
                        <label for="discountRate">Discount Rate (%)</label>
                        <input type="number" id="discountRate" value="5" min="0" max="20" step="0.1">
                    </div>
                </div>

                <button class="calculate-btn" onclick="calculate()">
                    Calculate TCO Analysis
                </button>
            </div>

            <!-- Results Panel -->
            <div class="results-panel">
                <!-- KPI Grid -->
                <div class="kpi-grid" id="kpiGrid" style="display: none;">
                    <div class="kpi-card">
                        <div class="kpi-label">Total Savings</div>
                        <div class="kpi-value" id="totalSavings">-</div>
                        <div class="kpi-change positive" id="savingsPercent"></div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-label">ROI</div>
                        <div class="kpi-value" id="roi">-</div>
                        <div class="kpi-change positive">Return on Investment</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-label">Payback Period</div>
                        <div class="kpi-value" id="payback">-</div>
                        <div class="kpi-change">Years</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-label">Energy Savings</div>
                        <div class="kpi-value" id="energySavings">-</div>
                        <div class="kpi-change positive">MWh/year</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-label">CO‚ÇÇ Reduction</div>
                        <div class="kpi-value" id="co2Reduction">-</div>
                        <div class="kpi-change positive">Tons/year</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-label">PUE Improvement</div>
                        <div class="kpi-value" id="pueImprovement">-</div>
                        <div class="kpi-change positive">Better efficiency</div>
                    </div>
                </div>

                <!-- Welcome Message -->
                <div class="welcome-message" id="welcomeMessage">
                    <h2>Welcome to TCO Calculator</h2>
                    <p>Configure your cooling systems and click "Calculate" to see the analysis</p>
                </div>

                <!-- Charts Container -->
                <div class="charts-container" id="chartsContainer" style="display: none;">
                    <div class="chart-tabs">
                        <button class="chart-tab active" onclick="switchChart(event, 'tco')">TCO Comparison</button>
                        <button class="chart-tab" onclick="switchChart(event, 'breakdown')">Cost Breakdown</button>
                        <button class="chart-tab" onclick="switchChart(event, 'timeline')">Savings Timeline</button>
                        <button class="chart-tab" onclick="switchChart(event, 'environmental')">Environmental Impact</button>
                    </div>
                    <div class="chart-content">
                        <canvas id="chartCanvas" width="600" height="400"></canvas>
                    </div>
                </div>

                <!-- Export Buttons -->
                <div class="export-buttons" id="exportButtons" style="display: none;">
                    <button class="export-btn" onclick="exportPDF()">
                        üìÑ Export PDF Report
                    </button>
                    <button class="export-btn" onclick="exportExcel()">
                        üìä Export Excel Analysis
                    </button>
                    <button class="export-btn" onclick="shareLink()">
                        üîó Generate Share Link
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="calculator.js"></script>
</body>
</html>